jQuery(function(a){var d=a(document.createElement("span")).attr("id","loading").css("visibility","hidden"),f,h=a(document.createElement("div")).attr("class","msg").attr("id","error").html('<p class="error">.</p>').css("visibility","hidden");a("#submit").after(h).after(d);a("#form").submit(function(){a("#form textarea").val().match(/^http:\/\//i)||a("#form textarea").val("http://"+a("#form textarea").val());var b=a("#form textarea").val();if(!b.replace(/(^\s*)|(\s*$)/g,"").length){a("#form textarea").val("").focus();
return false}if(!b.match(/^http:\/\/[\w|\d]+\.[\w|\d]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/i)){a("#form textarea").focus();return false}a.ajax({timeout:15E3,url:a("#form").attr("action")+"?url="+encodeURIComponent(b)+"&api=1",type:"get",beforeSend:function(){f&&clearTimeout(f);a("#submit").attr("disabled","disabled");a("#form textarea").attr("disabled","disabled");a(d).css("visibility","").removeAttr("class");a("#result").html("");a("#error").css("visibility","hidden")},error:function(c,e){a("#error p").html(e);
a("#error").css("visibility","");a(d).css("visibility","hidden").removeAttr("class");a("#submit").removeAttr("disabled");a("#form textarea").removeAttr("disabled").focus()},success:function(c){a(d).attr("class","finished");c=eval("("+c+")");var e=[];for(var g in c)e.push('<li><input type="text" readonly="readonly" class="result '+g+'" value="'+c[g]+'" /></li>');a("#result").html(e.join(""));f=setTimeout(function(){a(d).attr("class","rest")},5E3);a("#error").css("visibility","hidden");a("#submit").removeAttr("disabled");
a("#form textarea").removeAttr("disabled")}});return false});a("#result").click(function(b){b=b.target;"input"==b.nodeName.toLowerCase()&&a(b).select();return false});a(["images/loading.gif","images/finish.gif","images/rest.gif"]).each(function(b,c){b=a(new Image);b.attr("src",c).css("display","none");a(document.body).append(b)})});
